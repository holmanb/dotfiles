#!/bin/zsh

SCRIPTPATH=$0:A:h
F="$SCRIPTPATH/files"

function setpath(){
	set -e
	set -x
	(cd $F && $1)
}

function __install(){
	mkdir -p ~/.config/
	install init.lua ~/.config/nvim
	install .vimrc ~/
	install .zshrc ~/
	install .npmrc ~/

	npm i -g bash-language-server
	npm i -g pyright
}

function __copy(){
	install ~/.config/nvim init.lua
	install ~/.vimrc .
	install ~/.zshrc .
	install ~/.npmrc .
}

([ "$1" = copy ] || [ "$1" = install ]) && setpath "__$1" && exit 0

echo
echo "usage: $0 [copy|install]"
echo
echo "install	- deploy files from vcs directory and install deps"
echo "copy	- move files to vcs directory"
echo

